var module=angular.module("noDblclick",["ng"]);module.factory("noDblclickService",["$compile",function(a){"use strict";var b=function(b){var c=this,d=(b.attr("ng-click")||"").replace(/\s/g,""),e=(b.attr("ng-dblclick")||"").replace(/\s/g,""),f=(b.attr("ng-disabled")||"").replace(/\s/g,"");""!==d&&(";"===d.slice(-1)&&(d=d.slice(0,-1)),d="(noDblclickService.is_disabled || ("+d+"));"),d+="noDblclickService.lock();",""!==e&&e.indexOf(";",e.length-1)<0&&(e+=";"),e="return -1;",""!==f&&(f="("+f+") || "),f+="noDblclickService.isDisabled();",b.attr("ng-click",d),b.attr("ng-dblclick",e),b.attr("ng-disabled",f),this.is_disabled=!1,this.sublink=a(b,null,1500),this.key=b.attr("no-dblclick"),this.lock=function(){c.is_disabled=!0},this.unlock=function(){c.is_disabled=!1},this.isDisabled=function(){return c.is_disabled},this.getLink=function(a,b,d,e,f){a=a.$parent.$new(),a.noDblclickService=c;var g=[];g.push(a.$on("noDblclick.unlock",function(b,c){(void 0===c||c===a.noDblclickService.key)&&a.noDblclickService.unlock()})),g.push(a.$on("noDblclick.lock",function(b,c){(void 0===c||c===a.noDblclickService.key)&&a.noDblclickService.lock()})),a.$on("$destroy",function(){angular.forEach(g,function(a){a()})}),f(function(a){b.append(a)}),a.noDblclickService.sublink(a)}};return{getService:function(a){return new b(a)}}}]).directive("noDblclick",["noDblclickService",function(a){"use strict";function b(b){return a.getService(b).getLink}return{compile:b,priority:1500,restrict:"A",terminal:!0,transclude:!0,scope:{}}}]);