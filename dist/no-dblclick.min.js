var module=angular.module("noDblclick",["ng"]);module.factory("noDblclickService",["$compile",function(a){"use strict";var b=function(b){var c=this,d=!1,e=(b.attr("ng-click")||"").replace(/\s/g,""),f=(b.attr("ng-dblclick")||"").replace(/\s/g,""),g=(b.attr("ng-disabled")||"").replace(/\s/g,"");""!==e&&e.indexOf(";",e.length-1)<0&&(e+=";"),e+="noDblclickService.lock();",""!==f&&f.indexOf(";",f.length-1)<0&&(f+=";"),f="return -1;",""!==g&&(g="("+g+") || "),g+="noDblclickService.isDisabled();",b.attr("ng-click",e),b.attr("ng-dblclick",f),b.attr("ng-disabled",g),this.sublink=a(b,null,1500),this.key=b.attr("no-dblclick"),this.lock=function(){d=!0},this.unlock=function(){d=!1},this.isDisabled=function(){return d},this.getLink=function(a,b,d,e,f){a=a.$parent.$new(),a.noDblclickService=c;var g=[];g.push(a.$on("noDblclick.unlock",function(b,c){(void 0===c||c===a.noDblclickService.key)&&a.noDblclickService.unlock()})),g.push(a.$on("noDblclick.lock",function(b,c){(void 0===c||c===a.noDblclickService.key)&&a.noDblclickService.lock()})),a.$on("$destroy",function(){angular.forEach(g,function(a){a()})}),f(function(a){b.append(a)}),a.noDblclickService.sublink(a)}};return{getService:function(a){return new b(a)}}}]).directive("noDblclick",["noDblclickService",function(a){"use strict";function b(b){return a.getService(b).getLink}return{compile:b,priority:1500,restrict:"A",terminal:!0,transclude:!0,scope:{}}}]);