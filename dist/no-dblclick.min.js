var module=angular.module("noDblclick",["ng"]);module.factory("noDblclickService",["$compile","$timeout",function(a,b){"use strict";var c=function(c){var d=this,e=(c.attr("ng-click")||"").replace(/\s/g,""),f=(c.attr("ng-dblclick")||"").replace(/\s/g,""),g=(c.attr("ng-disabled")||"").replace(/\s/g,"");""!==e&&(";"===e.slice(-1)&&(e=e.slice(0,-1)),e="(noDblclickService.is_disabled || ("+e+"));"),e+="noDblclickService.lock();",""!==f&&f.indexOf(";",f.length-1)<0&&(f+=";"),f="return -1;",""!==g&&(g="("+g+") || "),g+="noDblclickService.isDisabled();",c.attr("ng-click",e),c.attr("ng-dblclick",f),c.attr("ng-disabled",g),this.is_disabled=!1,this.sublink=a(c,null,1500),this.key=c.attr("no-dblclick"),this.lock=function(){b(function(){d.is_disabled=!0})},this.unlock=function(){d.is_disabled=!1},this.isDisabled=function(){return d.is_disabled},this.getLink=function(a,b,c,e,f){a=a.$parent.$new(),a.noDblclickService=d;var g=[];g.push(a.$on("noDblclick.unlock",function(b,c){(void 0===c||c===a.noDblclickService.key)&&a.noDblclickService.unlock()})),g.push(a.$on("noDblclick.lock",function(b,c){(void 0===c||c===a.noDblclickService.key)&&a.noDblclickService.lock()})),a.$on("$destroy",function(){angular.forEach(g,function(a){a()})}),f(function(a){b.append(a)}),a.noDblclickService.sublink(a)}};return{getService:function(a){return new c(a)}}}]).directive("noDblclick",["noDblclickService",function(a){"use strict";function b(b){return a.getService(b).getLink}return{compile:b,priority:1500,restrict:"A",terminal:!0,transclude:!0,scope:{}}}]);